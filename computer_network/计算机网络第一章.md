# 计算机网络第一章 网络的架构和物理层
[网络和协议的关系](https://blog.csdn.net/qq_22238021/article/details/80279001)

## 第一章包括的内容
- 计算机分层结构
- 基础物理设备
- 链路的使用方式
- 分组交换
- 消息传输
- 计算机网络结构
- 性能

### 分层和方式
![](https://upload-images.jianshu.io/upload_images/4714178-3ae82b1ec16f9599.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 应用层：进程进行交互的特定的网络应用功能。（DNS，HTTP，SMTP）
- 传输层：两台主机中的进程通信提供通用的数据传输服务：TCP， UDP
- IP数据报：TCP报文段或者是UDP数据报 封装成分组和包
- 数据链路层：IP数据报封装成帧，可能包含控制信息，差错检测，同步信息，地址信息等
- 物理层：传输的单位是bit，考虑使用多大的电压表示0和1，一节以及接收方如何识别发送方发出的bit。确定插头的连接线 接头针头数等，不考虑解释bit的意思

## 链路的使用方式
- 电话拨号<br>
- ISDN 综合业务数字网
端到到的数字连接，语音 数据 图像在内的各种业务
- ADSL 非对称数字用户网络<br>
基于传统的电话交换网络，数模转换
- CATV 有线电视网络
- FTTH 光纤到户

## 基础物理设备
- 中继器<br>
工作在物理层的设备，适用于完全相同的两类网络的互连。对数据的重新发送和转发，扩大网络传输的距离，对信号再生和还原的设备。用于连接不同的网段，同一队对主机之间不能超过4个
- 集线器<br>
集线器就是多口的中继器<br>
将一些机器连接起来构成局域网，将多条以太网双绞线连接在同一段物理介质下面的设备。原理很简单，只对物理电信号放大中继，所有端口同属一个冲突域，主要用来延伸网络访问距离，扩展终端数量
工作在物理层
![](https://upload-images.jianshu.io/upload_images/4714178-c4f67b6af6e99e37.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 网桥<br>
物理网段之间的连接，转发帧
- 交换机
交换机 == 交换式集线器<br>
交换机工作在数据链路层，可以转发，过滤和生成树算法，交换机能体现出多个网桥的功能。交换机是一种高端口密度的网桥。<br>
交换机是一个多输入多输出设备，由一个端口传送分组发送一个或多个端口，组成星形拓扑结构。交换机的核心工作是将到达输入端口的分组正确的转发到输出端口上。
- 路由器<br>
路由器克服了交换机不能路由转发数据报的缺点；路由器可以提供防火墙服务
- 转发器<br>
工作在物理层
- 网关<br>
连接不同体系和协议的系统，可能在高层需要进行协议转换，路由选择，数据交换，工作在传输层及以上<br>

- 网络适配器<br>
网络适配器又被称为网卡，它具有独一无二的48位串行号，即mac地址，属于OSI模型的第一层，使得用户可以通过电缆，或者无线连接到以太网。早期的网卡作为扩展卡插到计算机总线上，由于现在的主板芯片集成了网络接口。


## 第一章 基础
## 点到点链路 端到端
![](https://upload-images.jianshu.io/upload_images/4714178-5723e4c3547da6c2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
端到端协议：TCP UDP协议
### 时间计算：
总时间 = 发送时延 + 传播时延 + 处理时延 + 排队时延<br>
- 发送时延： 发送的内容的大小/发送速度<br>
- 传播时延：和传播的介质有关 ： 长度/物质在介质中传播的速度<br>
- 处理时延：路由器或者网关等等处理所需要的时间<br>
- 排队时延：缓存中需要的因为排队产生的时延
- RTT: RTT 可能和传播时延和中间节点的处理时延，排队时延等等相关。
### 交换网
### 分组交换的效率比较高？ 为什么比较高
- 电路交换
电路交换现在在光交换领域东山再起
- 分组交换
![电路交换分组交换报文交换](https://upload-images.jianshu.io/upload_images/4714178-7e325efb9cfa8f13.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
分组交换是重点，分组交换效率比较高？``为什么？``<br>
将报文划分成较短的数据段，添加首部构成分组。
分组中含有地址等控制信息。
![分组交换的优点](https://upload-images.jianshu.io/upload_images/4714178-13180a5901028a6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
### 消息传递方式
- 路由<br>
根据目的节点的地址确定如何将消息转发到目的节点的过程称为路由。
- 单播
- 多播
- 广播
### 消息传输和多路复用
- STDM<br>
同步时分多路复用：按时间
- FDM<br>
频分多路复用：<br> 按照频率
- 统计多路复用：<br>按照时间 ， 如果有需求继续发送 + 直到达到一个在给定的时间内可以发送的上界
将需要发送的内容集合起来发送，使用集中器<br>
- 支持服务质量和拥塞<br>
主机将一条消息切分成不同大小的分组，然后交换机决定哪台主机的数据流将会占用链路的一定数量的带宽。（为特定数据流分配带宽）<br>
拥塞：
交换机缓存数据在内存中，交换机接受分组的速度比发送分组的速度快。有一部分会缓存在内存中
- CDM 
CDMA
码分复用
![](https://upload-images.jianshu.io/upload_images/4714178-0afba72eab96c943.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
使用码分复用的一个节点需要将变化的一个bit 变成 mbit 的序列，同时 0 1分别对应不同的码片序列

### 如果使用频分复用
- 1000 个4M用户 就会获得4M * 1000 的带宽
- 如果使用分时复用：就会减少用户使用的时间
## 网络体系结构
### 计算机网络结构
- OSI 七层结构
![IMG_C2DCDF058B76-1.jpeg](https://upload-images.jianshu.io/upload_images/4714178-68234777d354a061.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    - 物理层：原始``bit``传输<br>
    - 数据链路层：介质访问，路由管理，将原始``bit``收集起来形成一个更大的集合体：``帧``，由网络适配器和运行在节点上的操作系统的设备驱动程序<br>
    - 网络层：``分组``交换网络和路由<br>
    - 传输层：主机端到端连接，实现进程到进程信道，数据单元称为``消息``<br>
    - 会话层：建立维护和管理回话。将传输流进行管理，如管理一个结合在一起的音频流和视频流<br>
    - 表示层：处理数据格式代码转换等，对等实体间的数据交换的格式<br>
    - 应用层：应用层协议包括超文本传输协议
- 因特网体系结构
![](https://upload-images.jianshu.io/upload_images/4714178-085557a205da708b.jpeg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- IP协议将多个协议互联成一个逻辑互联网络

## 两个结构的对应关系
- 应用层 == 第七层
- 传输层 == 第四层
- IP 层 == 第三层
- IP层下面 == 第二层

## 性能
- 带宽
- 时延
    - 传输
    - 发送
    - 排队
    - 排队
- 延迟带宽积
延迟*带宽的乘积；
乘积结果表示在某一个时间段内的最大链路利用率
- 抖动<br>
网络性能的延迟产生的分组船传输速度不同的问题
