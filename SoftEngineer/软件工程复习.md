# 软件工程第三章 需求分析

## 需求获取

## 需求分析
需求分析需要建造软件处理的数据模型，功能模型和行为模型。需求分析为软件设计师提供可被翻译成数据，体系结构、界面和过程设计的模型。
- 需求分析的任务<br>
借助当前的系统的物理模型导出目标系统的逻辑模型
![物理模型到逻辑模型到物理模型](https://upload-images.jianshu.io/upload_images/4714178-11b8d70fbaa62ecb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 需求分析比较重要的两种需求
- 功能需求
- 非功能需求<br>
P47书上没有写非功能需求

### 需求分析的主要工作
- 问题分析
- 问题评估
- 方案综合
- 建模
- 规约
- 复审

## 软件需求分析基础
- 数据流图
    - 四种基本符号
![数据流图组成符号](https://upload-images.jianshu.io/upload_images/4714178-76fc43937ff79430.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


# 软件工程第四章
## 模块的定义
模块是一组程序语句集合，包括输入输出处理功能，内部信息和运行规划，模块指可单独命名而且可以通过名字访问的过程，函数，子程序或宏调用。
### 模块化的定义
模块化是将软件系统划分成若干个独立命名而且可以独立访问的模块的过程，其中每个模块完成一项子功能，每个模块是相对独立而且相互联系的，共同完成系统指定的各项t功能。
### 模块化的目的
降低软件的复杂性，软件适当分解，降低复杂性，开发工作量，软件开发成本。

### 抽象
抽象只从一些事物中抽取反应本质的共同特性，而忽略其本质差异。

### 模块独立性
模块独立性是模块化和抽象信息隐藏概念的直接产物，软件划分为模块集合要遵守的准则，也是判断模块构造是不是合理的标准。通常的模块独立性是模块独立性的一种具体表现形式。<br>
独立的模块指具有独立功能而且和其他模块之间没有过多的相互作用，每个模块完成特定的子功能，而且和软件结构其他部分接口是简单的。
- 模块独立性的体现
1. 有效模块化的软件更易于开发
2. 模块间相互影响小，独立模块容易测试和维护

### 模块独立性的评价准则
- 内聚
    - 低内聚
        - 偶然性内聚<br>
        各种成分之间在功能上几乎没有实质性联系，为了节省存储空间的需要而引入。很难理解，不易维护。
        - 逻辑性内聚<br>
        相关，详细功能的语句组合在一起，每次被调用时，由传递给模块的参数确定该模块应该完成的功能。不易修改，可能增大块间耦合。(没有说功能之间是不是有联系)
        - 时间性内聚<br>
        模块内的任务不仅能在逻辑上有关联，而且必须在同一时间内完成。
    - 中内聚
        - 过程化内聚<br>
        处理元素相关，而且必须按照特定的次序执行，称为过程性内聚。
        - 通信性内聚<br>
        所有功能都通过使用公用数据发生关系，所有功能使用共用数据发生关系
    - 高内聚
        - 顺序性内聚<br>
    处理元素同一个功能密切相关，而且必须顺序执行，强调上一个处理的输出数据是下个处理的输入数据。
        - 功能性内聚<br>
    一个模块为了完成某一个具体任务所必须的所有成分，所有成分合起来为了完成单一功能
    
- 耦合
![耦合的不同的等级](https://upload-images.jianshu.io/upload_images/4714178-2bf12e71fc80c3cf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
耦合和耦合的不同等级
    - 弱耦合
        - 非直接耦合<br>
        模块之间的关系通过主程序的调用和控制来实现。模块独立性最强。
        -  数据耦合<br>
        一个模块访问另外一个模块，被访问模块的输入和输出都是数据参数。
        ![数据耦合](https://upload-images.jianshu.io/upload_images/4714178-6a08dcb39ff86713.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
        - 特征耦合<br>
        两个模块交换数据时，使用的是通过参数表交换数据结构
        ![特征耦合](https://upload-images.jianshu.io/upload_images/4714178-e61988f1cf16f560.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
        特征耦合会使原本无关的模块出现相关联
        ![特征耦合和数据耦合的区别](https://upload-images.jianshu.io/upload_images/4714178-8da904cd285b012f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
        数据耦合传递给``计算课时费``和``计算加班费``模块的是不相同的数据结构，通过不同的数据参数区分两个模块，特征耦合传递的是相同的参数``考勤表``，返回的是不同的结果。如果考勤表这个数据结构发生变化，两个模块计算课时费和计算加班费也要发生变化。
    - 中等强度耦合
        - 控制耦合<br>
        模块间传递的信息是作为控制信号的开关值或者标志量。
    - 较强耦合
        - 外部耦合<br>
         一组模块访问同``一个全局变量``
        - 公共耦合<br>
        模块访问同一个公共数据环境，同时对这个模块中的内容进行读写，如果一个内容出错，相关内容也可能出错。
        - 内容耦合<br>
        一个模块直接调用另一个模块，或者允许一个模块直接转移到另一个模块中去。（如修改两个程序语句调用的顺序，有可能这样的修改会影响结果）

## 软件体系结构
- 什么是软件体系结构<br>
主要指程序``构建/模块``之间的层级结构和``构建/模块``使用的数据结构。

### 软件体系结构风格
### 事务流 第七章

# 面向对象中的概念，记号和过程
- 工作产品<br>
意见在开发中生产的人工制品
- 任务<br>
可以管理的一种原子工作单位
- 资源<br>
完成工作的资产

## 功能需求和非功能需求
- 功能需求<br>
系统必须支持的功能规格说明
- 非功能需求<br>
对系统操作的一种约束，和系统功能没有直接关系

## 面向对象概念
- 类<br>
类是对具有一组相同数据和相同操作的一组相似对象抽象。
- 类之间的关系<br>
    - 关联关系，对象在语义上的联系
    - 聚集
        - 共享聚集
        - 组合聚集
    - 继承
    - 依赖和细化


## 面向对象建模中的记号
- 用例图
![用例图](https://upload-images.jianshu.io/upload_images/4714178-9781b671c5421c7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

- 类图
![类图](https://upload-images.jianshu.io/upload_images/4714178-ea73a5cf9d14250a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 交互图<br>
交互图的一种特殊形式称为顺序图，表示对象之间的交互，对象用下划线表示，由对象发出的带闭合箭头的横线称之为激励。激励上往往写上类似函数名称的字，表示动作。
![顺序图](https://upload-images.jianshu.io/upload_images/4714178-3d491648824fe5c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 状态图<br>
单个对象的动态行为使用状态之间的迁移表示
![状态图 设置时间](https://upload-images.jianshu.io/upload_images/4714178-89f1e52289782d81.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)，动作是一个原子行为，在状态机的特定点上执行，原子活动执行一小段时间且不可中断。
    - 内部迁移<br>
    触发内部迁移事件，可以产生和这些时间相关联的活动。一个内部迁移的发生不会导致任何进入或退出活动的执行
- 活动图<br>
    - "粗短棒"<br>
    表示控制流的同步，明确活动发生的开始和结束
    - 箭头表示活动之间的迁移
    - 圆角矩形表示活动
    ![活动图](https://upload-images.jianshu.io/upload_images/4714178-d773be6696bb5c16.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
- 部署图<br>
部署图用来描述系统运行期间，构件和硬件节点之间的关系，包括硬件设备和软件运行环境。
![UML部署图](https://upload-images.jianshu.io/upload_images/4714178-f4cdcba5515566d1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)


# 软件测试概述
## 有助于确认活动的度量
- 复杂度
- McCabe 圈复杂度度量
- Halstead 基于程序大小测量
- 缺陷度量
- 产品度量
- 过程度量

## 基本测试方法
- 静态测试 <br>
对软件继续进行分析，不实际运行被测试的程序，静态测试可以用于对各种软件文档进行测试。
- 动态测试<br>
在计算机上运行被测试的程序代码或者代码段，通过输入测试用例，对其运行情况进行观察，并且对结果进行分析。
## 黑盒测试和白盒测试
![黑盒测试和白盒测试的对比](https://upload-images.jianshu.io/upload_images/4714178-610a65e4b5b54bc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
### 黑盒测试
1. 黑盒测试 == 功能测试，数据驱动测试，基于规格说明的测试，从用户观点出发的测试。集成测试，确认测试或者系统测试主要采用黑盒测试。
2. 黑盒测试是一种穷举输入测试，
### 黑盒测试基本方法
1. 等价类划分法<br>
根据程序规格进行测试用例设计，各种类别的测试用例。
书P255 有例子
2. 边界值分析法<br>
使用超出取值范围一点点的值进行计算（书上没有给出例子）
3. 错误猜测法<br>
猜测被测试程序容易出错的位置，然后对于可能的薄弱环节，设置测试用例。这种方法很大程度上依赖于测试者的``先验知识``。
4. 比较测试法<br>
开发不同的版本，然后在版本之间进行比较测试结果。 如果软件开发说明书有问题，或者软件本身设计有问题，很难检测数错误。
### 白盒测试
白盒测试 == 结构测试，逻辑驱动测试，基于程序的测试，用于分析程序的内部结构。单元测试主要使用白盒测试或者白盒，黑盒测试相结合的方法。
### 逻辑覆盖何其种种类
1. 逻辑覆盖
![逻辑覆盖](https://upload-images.jianshu.io/upload_images/4714178-846fb812bcd3d787.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    - 语句覆盖<br>
    若干个测试用例，使得程序中每一条可执行语句至少执行一次。
    - 判定覆盖<br>
    判定覆盖就是设计若干个测试用例，运行所测程序，使得程序中每个判定语句为真实的情况对应的分支和为假的情况对应的分支至少各取一次。
    - 条件覆盖<br>
    条件覆盖，设计若干个测试用例，运行所测程序，使得程序中的每个判定语句中的每个条件的真假可能取值至少各去一次。
    - 判定-条件覆盖
    设计若干个测试用例，使得程序中每个判定语句的每个条件的所有可能取值至少各取一次，每个判定语句的所有可能结果至少各取一次。
    P261
    - 条件组合覆盖<br>
    设计若干个测试用例，使得程序中每个判断的所有可能的条件取值组合至少个执行一次。
2. 结构测试
- 基本路径测试<br>
[可以参考这一篇博客](https://blog.csdn.net/xieminyao123/article/details/79133449)
P262
现将程序转化为控制流图，通过计算环形复杂度，确定执行路径的基本集合，然后求出独立路径。

- 循环测试 <br>
循环测试是为了解决而路径测试不容易测试循环体的问题
- 简单循环<br>
    ![循环的种类](https://upload-images.jianshu.io/upload_images/4714178-549125621d5b2901.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    测试方法:对于最多为n次的简单循环
    1. 完全跳过循环
    2. 仅循环一次
    3. 循环两次
    4. 循环m次，``m<n``
    5. 分别循环 n -1 , n , n+1 次
- 嵌套循环<br>
对于嵌套循环，首先从最里面的循环开始，设置外层循环为1次，按照测试内层循环的方法测试内层循环后，往上层发展，这一层使用典型值测试循环和嵌套的循环。
- 并列循环<br>
如果循环独立，使用简单循环方法测，如果循环不独立，使用嵌套循环方法测试。
- 非结构化循环<br>
按照结构化程序设计思想先将程序结构化，然后在测试。

## 测试用例设计







