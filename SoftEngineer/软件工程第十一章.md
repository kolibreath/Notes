# 第十一章 软件测试
# 目录
- 软件测试的定义
- McCabe
- 静态测试
- 动态测试
    - 黑盒测试
    - 白盒测试
- 单元测试 
- 集成测试
## 软件故障的分类
- 缺陷
- 错误
- 失败

## 软件测试的定义和目的
- 软件测试的定义<br>
软件测试是用人工或自动方法来执行并评价软件产品或其不见的过程，以验证它是否满足规定的要求，或是识别出期望结果和实际结果之间有无差别。
- 软件测试的目的<br>
希望以最低代价，尽可能多地找出软件中潜在的各种错误和缺陷。

## 有助于软件确认活动的度量
- 复杂度<br>
代码越复杂，越难以维护、理解、文档化、测试和提供支持。
可以根据对源程序代码做大范围的抽样，建立复杂度基线。

### McCabe 圈确认复杂度
- 程序流图
- 程序环路复杂性<br>
程序基本路径及中的独立路径条数，确保程序中的每个可执行语句至少执行一次。
- 独立路径<br>
一条独立路径至少包含一条在其他独立路径中从未有过的边的路径。

### Halstead 软件科学度量
基于程序大小测量程序复杂度，程序大小由程序中使用的唯一操作符和操作个数来表示。

## 静态测试
不执行被测试代码，支队各阶段相关文档进行静态审查。

## 动态测试
## 基本测试方法
- 静态测试 <br>
对软件继续进行分析，不实际运行被测试的程序，静态测试可以用于对各种软件文档进行测试。
- 动态测试<br>
在计算机上运行被测试的程序代码或者代码段，通过输入测试用例，对其运行情况进行观察，并且对结果进行分析。
## 黑盒测试和白盒测试
![黑盒测试和白盒测试的对比](https://upload-images.jianshu.io/upload_images/4714178-610a65e4b5b54bc6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
### 黑盒测试
1. 黑盒测试 == 功能测试，数据驱动测试，基于规格说明的测试，从用户观点出发的测试。集成测试，确认测试或者系统测试主要采用黑盒测试。
2. 黑盒测试是一种穷举输入测试，
### 黑盒测试基本方法
1. 等价类划分法<br>
- 无效/有效等价类的判断标准<br>
有效标准呢是结果有效。<br>
根据程序规格进行测试用例设计，各种类别的测试用例。
书P255 有例子
2. 边界值分析法<br>
使用超出取值范围一点点的值进行计算（书上没有给出例子）
3. 错误猜测法<br>
猜测被测试程序容易出错的位置，然后对于可能的薄弱环节，设置测试用例。这种方法很大程度上依赖于测试者的``先验知识``。
4. 比较测试法<br>
开发不同的版本，然后在版本之间进行比较测试结果。 如果软件开发说明书有问题，或者软件本身设计有问题，很难检测数错误。
### 白盒测试
白盒测试 == 结构测试，逻辑驱动测试，基于程序的测试，用于分析程序的内部结构。单元测试主要使用白盒测试或者白盒，黑盒测试相结合的方法。
### 逻辑覆盖何其种种类
1. 逻辑覆盖
![逻辑覆盖](https://upload-images.jianshu.io/upload_images/4714178-846fb812bcd3d787.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    - 语句覆盖<br>
    若干个测试用例，使得程序中每一条可执行语句至少执行一次。
    - 判定覆盖<br>
    判定覆盖就是设计若干个测试用例，运行所测程序，使得程序中每个判定语句为真实的情况对应的分支和为假的情况对应的分支至少各取一次。
    - 条件覆盖<br>
    条件覆盖，设计若干个测试用例，运行所测程序，使得程序中的每个判定语句中的每个条件的真假可能取值至少各去一次。
    - 判定-条件覆盖
    设计若干个测试用例，使得程序中每个判定语句的每个条件的所有可能取值至少各取一次，每个判定语句的所有可能结果至少各取一次。
    P261
    - 条件组合覆盖<br>
    设计若干个测试用例，使得程序中每个判断的所有可能的条件取值组合至少个执行一次。
2. 结构测试
- 基本路径测试<br>
[可以参考这一篇博客](https://blog.csdn.net/xieminyao123/article/details/79133449)
P262
现将程序转化为控制流图，通过计算环形复杂度，确定执行路径的基本集合，然后求出独立路径。

- 循环测试 <br>
循环测试是为了解决而路径测试不容易测试循环体的问题
- 简单循环<br>
    ![循环的种类](https://upload-images.jianshu.io/upload_images/4714178-549125621d5b2901.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
    测试方法:对于最多为n次的简单循环
    1. 完全跳过循环
    2. 仅循环一次
    3. 循环两次
    4. 循环m次，``m<n``
    5. 分别循环 n -1 , n , n+1 次
- 嵌套循环<br>
对于嵌套循环，首先从最里面的循环开始，设置外层循环为1次，按照测试内层循环的方法测试内层循环后，往上层发展，这一层使用典型值测试循环和嵌套的循环。
- 并列循环<br>
如果循环独立，使用简单循环方法测，如果循环不独立，使用嵌套循环方法测试。
- 非结构化循环<br>
按照结构化程序设计思想先将程序结构化，然后在测试。

## 测试用例设计
- 白盒测试 黑盒测试例题<br>
P268
## 单元测试
- 什么是单元测试<br>
模块测试，主要检验程序最小单位有无错误，是编码完成后进行的测试工作。
- 单元测试的主要任务<br>
单元测试针对对每个程序模块，主要解决5个方面的问题:模块结构、局部数据结构，边界条件，独立路径，错误处理。
- 单元测试的执行过程<br>
    - 驱动模块<br>
    是被测试模块的上级模块，接受测试数据，然后将相关的数据传递给被测试模块，病打印出相应的结果。
    - 桩模块<br>
    被被测模块调用，用于检测被测模块和下级模块的接口情况。

## 集成测试
- 什么是集成测试<br>
软件开发完成后，按照设计时确定的结构图，连接起来进行集成测试。集成测试需要考虑的是：穿越模块接口的数据是否会丢失，模块的功能是否丢失；模块的功能是否对另外的模块产生不利影响；组合的子功能是否达到需求；全局数据结构有无问题；单个模块的误差累积起来是否会被放大；
- 集成测试的种类    
    - 非增式集成测试<br>
    一步到位的测试P271
    - 增式集成测试<br>
    逐步实现的集成
## 确认测试
- 确认测试又称为有效性测试和合格性测试
## 系统测试
## 验收测试